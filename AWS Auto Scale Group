
# Set up AWS Auto Scale Group

## aws console 
https://console.aws.amazon.com/ec2
 
## connect to elastic IP

sshfs -o IdentityFile=.../autokey.pem ubuntu@176.34.229.204:/home/ubuntu ./aws_auto/
 
ssh -i autokey.pem ubuntu@176.34.229.204


## Set Auto-Scaling Group

http://docs.aws.amazon.com/AutoScaling/latest/GettingStartedGuide/Welcome.html
 

http://www.robertsindall.co.uk/blog/how-to-use-amazons-auto-scaling-groups/



### set configuration  

$ export AWS_CREDENTIAL_FILE=/home/jiansen/AWS/aws-credentials.txt

$ as-create-launch-config AutoScaleLC --image-id ami-3d160149 --region eu-west-1 --instance-type t1.micro --group awseb-e-ictxp7cjjz-stack-AWSEBSecurityGroup-YAXYRWU3MQO8 -key autokey
OK-Created launch config

 (Ubuntu 13.04 t1.mociro eu-west-1)


### check configuration

$ as-describe-launch-configs --headers --region eu-west-1 --max-records 50
LAUNCH-CONFIG NAME IMAGE-ID TYPE 
LAUNCH-CONFIG AutoScaleLC ami-3d160149 t1.micro



### set auto scale group

$ as-create-auto-scaling-group auto-scaling-group --region eu-west-1 --availability-zones eu-west-1a eu-west-1b eu-west-1c --launch-configuration AutoScaleLC 1 --max-size 10 --min-size 1
OK-Created AutoScalingGroup



### check auto scale  group

$ as-describe-auto-scaling-groups --headers --region eu-west-1
AUTO-SCALING-GROUP GROUP-NAME LAUNCH-CONFIG AVAILABILITY-ZONES MIN-SIZE MAX-SIZE DESIRED-CAPACITY
AUTO-SCALING-GROUP auto-scaling-group AutoScaleLC eu-west-1a,eu-west-1b,eu-west-1c 1 10 1 
INSTANCE INSTANCE-ID AVAILABILITY-ZONE STATE STATUS LAUNCH-CONFIG
INSTANCE i-ed9650a3 eu-west-1b InService Healthy AutoScaleLC



### edit instance details from the console

https://console.aws.amazon.com/ec2



### After use, set zero instances in the Auto Scaling Group?
$as-update-auto-scaling-group auto-scaling-group --desired-capacity 0 --max-size 0 --min-size 0 --region eu-west-1



### Update Auto-Scaling Group status

$ as-update-auto-scaling-group MyGroup --launch-configuration MyLC --availability-zones us-west-2a --min-size 1 --max-size 12
OK-Updated AutoScalingGroup




# Environment

[How to install oracle java 7 in ubuntu 13.04/12.10/12.04](http://www.ubuntugeek.com/how-to-install-oracle-java-7-in-ubuntu-12-04.html)
